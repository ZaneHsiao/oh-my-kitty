# My kitty config file
# Time:2026-1-28

# 字体配置
font_family      JetBrains Mono Nerd Font
bold_font        JetBrains Mono Nerd Font Bold  
italic_font      JetBrains Mono Nerd Font Italic
bold_italic_font JetBrains Mono Nerd Font Bold Italic
font_size        14.0
term xterm-kitty

# 主题配置
# 建议让 kitten themes 管理 current-theme.conf
include ~/.config/kitty/current-theme.conf

# 窗口配置
macos_force_single_window yes
macos_quit_when_last_window_closed no
macos_touchbar_buttons enabled

# 操作体验
confirm_os_window_close 0
remember_window_size yes
resize_in_steps no
single_window_margin_width 0

# 配合体验优化
initial_window_width  1400
initial_window_height 900
window_padding_width  15
placement_strategy    top-left
enabled_layouts Tall,Splits,Stack

# 标签管理

tab_bar_edge bottom
tab_bar_style powerline
tab_powerline_style slanted
tab_bar_min_tabs 2

map alt+1 goto_tab 1
map alt+2 goto_tab 2
map alt+3 goto_tab 3
map alt+4 goto_tab 4
map alt+5 goto_tab 5
map alt+6 goto_tab 6
map alt+7 goto_tab 7
map alt+8 goto_tab 8
map alt+9 goto_tab 9
map cmd+shift+page_up move_tab_backward
map cmd+shift+page_down move_tab_forward

# 背景效果（性能/效果平衡）
background_opacity         0.8
dynamic_background_opacity no
background_blur           16

# 性能优化
repaint_delay      8
input_delay        2
max_fps            60
sync_to_vblank     yes
sync_to_monitor    yes

# 字体大小管理
map ctrl+shift+backspace change_font_size all 0

# 光标自定义
# block / beam / underline
cursor_shape block
cursor_blink_interval 0
cursor_stop_blinking_after 0
shell_integration no-cursor

# 光标动画（核心）
cursor_trail 1
cursor_trail_fade 0.6

# 功能开关
enable_audio_bell         no
visual_bell_duration      0.0
window_alert_on_bell      yes
bell_on_tab               yes
allow_remote_control      yes
listen_on                 unix:/tmp/kitty
clipboard_control         write-clipboard write-primary

# 快捷键配置
map cmd+d launch --location=hsplit --cwd=current 
map cmd+r launch --location=vsplit --cwd=current
map cmd+n new_os_window
map cmd+w close_window
map cmd+[ previous_window
map cmd+] next_window
map cmd+, edit_config_file
map kitty_mod+/ launch --allow-remote-control kitty +kitten kitty_search/search.py @active-kitty-window-id
map kitty_mod+t     launch --cwd=current --type=tab
map cmd+t           launch --cwd=current --type=tab
map cmd+m launch --type=overlay --cwd=current zsh -ic 'eval "$(/opt/homebrew/bin/brew shellenv)"; source ~/.config/kitty/tmux_menu.zsh; TMUX_MENU_MODE=chooser; tmux_menu_run'
# Option/Alt 复制粘贴（替代 Shift+Alt）
map alt+c copy_to_clipboard
map alt+v paste_from_clipboard
map shift+alt+c no_op
map shift+alt+v no_op
# 滚动配置  
scrollback_lines              10000
wheel_scroll_multiplier       5.0
touch_scroll_multiplier       1.0

# ===== Mac Cmd =====
# Cmd+A/C/V pass through as Ctrl+Shift for tmux/nvim (Mac-style mappings in nvim)
# Use Alt+C / Alt+V for terminal-level copy/paste.
map cmd+a send_key ctrl+shift+a
map cmd+c send_key ctrl+shift+c
map cmd+v send_key ctrl+shift+v
map cmd+z send_key ctrl+shift+z

# 鼠标配置
mouse_hide_wait               3.0
url_color                     #0087bd
url_style                     curly
open_url_with                 default
copy_on_select                yes

# 高级功能
shell                         zsh
editor                        vim
close_on_child_death          no

# 调试设置（仅排障时打开）
debug_logging no
log_file ~/.config/kitty/Logs/kitty.log
